#  <img width="40" alt="bemo_icon" src="https://user-images.githubusercontent.com/59076085/227764662-3c13074b-23be-41f3-bc68-cbbc2c13c4c4.png"> BEMO, ì˜í™” ì¶”ì²œ ë° ë¦¬ë·° ì›¹ì„œë¹„ìŠ¤ <img width="40" alt="bemo_icon" src="https://user-images.githubusercontent.com/59076085/227764662-3c13074b-23be-41f3-bc68-cbbc2c13c4c4.png">

<br>



# ğŸš€ [~~BEMO ì ‘ì†í•˜ê¸°~~](http://behindmovie.site)

**ìœ ì§€ë¹„ìš©ìœ¼ë¡œ ì¸í•´ ì‚¬ì´íŠ¸ë¥¼ ì„ì‹œ íì‡„í•©ë‹ˆë‹¤.**

<br>

## ğŸ“ƒëª©ì°¨ 

 - [Project Members](#project-members) 
 - [ì†Œê°œ](#ì†Œê°œ) 
 - [ê°œë°œ í™˜ê²½](#ê°œë°œ-í™˜ê²½)
 - [ì‚¬ìš© ê¸°ìˆ ](#ì‚¬ìš©-ê¸°ìˆ )
 - [ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜](#ì‹œìŠ¤í…œ-ì•„í‚¤í…ì²˜) 
 - [E-R ë‹¤ì´ì–´ê·¸ë¨](#e-r-ë‹¤ì´ì–´ê·¸ë¨)
 - [í”„ë¡œì íŠ¸ ëª©ì ](#í”„ë¡œì íŠ¸-ëª©ì )
 - [í™”ë©´ êµ¬ì„±](#í™”ë©´-êµ¬ì„±)
 - [í•µì‹¬ ê¸°ëŠ¥](#í•µì‹¬-ê¸°ëŠ¥)
   - [ë¡œê·¸ì¸/íšŒì›ê°€ì…](#ë¡œê·¸ì¸íšŒì›ê°€ì…)
   - [í”„ë¡œí•„](#í”„ë¡œí•„)
   - [ê²Œì‹œê¸€ CRUD](#ê²Œì‹œê¸€-crud)
   - [ì˜í™”/í•´ì‹œíƒœê·¸ ê²€ìƒ‰](#ì˜í™”í•´ì‹œíƒœê·¸-ê²€ìƒ‰)
   - [ì˜í™” ìƒì„¸ í˜ì´ì§€](#ì˜í™”-ìƒì„¸-í˜ì´ì§€)
   - [ì˜í™” ë©”ì¸ í˜ì´ì§€](#ì˜í™”-ë©”ì¸-í˜ì´ì§€)
 - [CI/CD](#cicd)
   - [ë¬´ì¤‘ë‹¨ ë°°í¬](#ë¬´ì¤‘ë‹¨-ë°°í¬)
 - [ë„ë©”ì¸ ì ìš©](#ë„ë©”ì¸-ì ìš©)
 - [Trouble Shooting](#trouble-shooting)
 - [UI reference license](#ui-reference-license)

## ğŸŒ»Project Members

<table>
   <tr>
    <td align="center"><b><a href="https://github.com/jeeyoun-kang">ê°•ì§€ìœ¤</a></b></td>
    <td align="center"><b><a href="https://github.com/JYJProgram">ì¥ì˜ˆì¤€</a></b></td>
  <tr>
     <td align="center"><a href="https://github.com/jeeyoun-kang"><img src="https://avatars.githubusercontent.com/u/59076085?v=4" width="100px" /></a></td>
    <td align="center"><a href="https://github.com/JYJProgram"><img src="https://avatars.githubusercontent.com/u/33517050?v=4" width="100px" /></a></td>
  </tr>
  <tr>
    <td align="center"><b>Web Developer</b></td>
    <td align="center"><b>Web Developer</b></td>
</table>




## ì†Œê°œ

**BEMO**ëŠ” JAVA, Spring bootë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë§Œë“  ì˜í™” ì¶”ì²œ ë° ë¦¬ë·° ì›¹ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤. <br>



## ê°œë°œ í™˜ê²½

 - Windows
 - IntelliJ 
 - GitHub
 - AWS

## ì‚¬ìš© ê¸°ìˆ  

![java](https://img.shields.io/badge/Java-11-DEB887?style=flat)&nbsp;![springboot](https://img.shields.io/badge/SpringBoot-2.7.3-3CB371?style=flat&logo=springboot)&nbsp;![spriongsecurity](https://img.shields.io/badge/SpringSecurity-5-3CB371?style=flat&logo=springsecurity)

![spriongsecurity](https://img.shields.io/badge/Html5-C0C0C0?style=flat&logo=HTML5)&nbsp; ![spriongsecurity](https://img.shields.io/badge/CSS3-blue?style=flat&logo=css3)&nbsp; ![spriongsecurity](https://img.shields.io/badge/Thymeleaf-green?style=flat&logo=thymeleaf)

![gradle](https://img.shields.io/badge/Gradle-7.5-skyblue?style=flat&logo=gradle)

![mysql](https://img.shields.io/badge/MySQL-8.0.28-FFA07A?style=flat&logo=mysql)

![ec2](https://img.shields.io/badge/AWS-ec2-FF8C00?style=flat&logo=amazonec2)&nbsp;![s3](https://img.shields.io/badge/AWS-s3-FF8C00?style=flat&logo=amazons3)&nbsp;![AWS-RDS](https://img.shields.io/badge/AWS-RDS-FF8C00?style=flat&logo=amazonrds)&nbsp;![w](https://img.shields.io/badge/AWS-CodeDeploy-FF8C00?style=flat&logo=codedeploy)&nbsp;![rds](https://img.shields.io/badge/AWS-Route53-FF8C00?style=flat&logo=amazoneroute53)

**ë°±ì—”ë“œ**

  - Java 11 openjdk
  - SpringBoot 2.7.3
  - Spring Security
  - Spring Data JPA 
  - Lombok

**í”„ë¡ íŠ¸ì—”ë“œ**

 -   Html5/css3
 -   Javascript
 -   Thymeleaf

**ë¹Œë“œ íˆ´**

 - Gradle 7.5

**ë°ì´í„°ë² ì´ìŠ¤**

 - Mysql

**ì¸í”„ë¼** 

-   AWS EC2
-   AWS S3
-   AWS RDS
-   AWS Codedeploy
-   AWS Route 53
-   Github Actions

**ë¼ì´ë¸ŒëŸ¬ë¦¬**

 - [tagify](https://yaireo.github.io/tagify/)
 - [KOBIS Api](https://www.kobis.or.kr/kobisopenapi/homepg/main/main.do)
 - [Naver search movie Api](https://developers.naver.com/docs/serviceapi/search/movie/movie.md)
 - [Naver datalab Api](https://developers.naver.com/products/service-api/datalab/datalab.md)
 - [Naver login Api](https://developers.naver.com/docs/login/api/api.md)
 - [Kakao Oauth Api](https://developers.kakao.com/docs/latest/ko/kakaologin/rest-api)
 - [Google Oauth Api](https://developers.google.com/identity/protocols/oauth2?hl=ko)

 

## ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

![bemo_architecture](https://github.com/jeeyoun-kang/BEMO/assets/59076085/b48c6086-d523-49d2-ae74-4b06caf687cc)



## E-R ë‹¤ì´ì–´ê·¸ë¨

![bemo_er](https://user-images.githubusercontent.com/59076085/227763346-93bf3e10-2c66-44f4-b01e-1149311cc23a.png)



## í”„ë¡œì íŠ¸ ëª©ì 

í”„ë¡œì íŠ¸ë¥¼ ì„¤ê³„í•˜ê³  ë°°í¬ê³¼ì •ê¹Œì§€ êµ¬í˜„í•˜ê³   ì‹¤ì„œë¹„ìŠ¤ê°€ ê°€ëŠ¥í•œ ì›¹ ì„œë¹„ìŠ¤ë¥¼  ë§Œë“œëŠ” ê²ƒê³¼ ì„œë¹„ìŠ¤ë¥¼ êµ¬í˜„í•˜ë©´ì„œ  JAVA&SpringBootì— ê´€í•œ ì§€ì‹ì„ ìŠµë“í•˜ëŠ” ê²ƒ


## ğŸ’»í™”ë©´ êµ¬ì„±

| ![main](https://user-images.githubusercontent.com/59076085/227449173-631defa9-531c-4ca5-a7ed-cdd0d7ef75a6.JPG) | ![ë¡œê·¸ì¸í˜ì´ì§€](https://user-images.githubusercontent.com/59076085/223621560-ee22e39a-fe4e-4f16-9e8f-97d4311fa8e1.JPG) | ![íšŒì›ê°€ì…í˜ì´ì§€](https://user-images.githubusercontent.com/59076085/223621797-24fa4508-6979-469a-97ba-d32521f94d3e.JPG) |
| :----------------------------------------------------------: | :----------------------------------------------------------: | :----------------------------------------------------------: |
|                         ë©”ì¸ í˜ì´ì§€                          |                            ë¡œê·¸ì¸                            |                           íšŒì›ê°€ì…                           |

| ![profile](https://user-images.githubusercontent.com/59076085/227449454-3c850ee7-3aaf-4b77-950f-f3d505fd3619.JPG) | ![moviedetail](https://user-images.githubusercontent.com/59076085/227449678-e8681444-c4b1-4bc2-a168-22ca2b153df9.JPG) | ![detail](https://user-images.githubusercontent.com/59076085/227449854-92346716-8356-4e0b-8cda-01a6ff9954aa.JPG) | ![ì˜í™”ê²€ìƒ‰í˜ì´ì§€](https://user-images.githubusercontent.com/59076085/223627541-c60b36eb-563d-473d-89b5-60fa75bf784d.JPG) |
| :----------------------------------------------------------: | :----------------------------------------------------------: | :----------------------------------------------------------: | :----------------------------------------------------------: |
|                        í”„ë¡œí•„ í˜ì´ì§€                         |                       ì˜í™” ìƒì„¸ í˜ì´ì§€                       |                       ë¦¬ë·° ì‘ì„± í˜ì´ì§€                       |                 ì˜í™” / í•´ì‹œíƒœê·¸ ê²€ìƒ‰ í˜ì´ì§€                  |

<br>

## í•µì‹¬ ê¸°ëŠ¥

### ë¡œê·¸ì¸/íšŒì›ê°€ì…

- ë¡œê·¸ì¸ê³¼ íšŒì›ê°€ì…ì€ íŒì—…ì°½ìœ¼ë¡œ êµ¬í˜„í–ˆê³ , Spring Security (SecurityFilterChain, WebSecurityCustomizer) ë¡œ ì‚¬ìš©ì ì¸ì¦, ì ‘ê·¼, ì„¸ì…˜ ê´€ë¦¬ë¥¼ êµ¬í˜„í•˜ê³  OAuth2ë¥¼ ì´ìš©í•˜ì—¬ ì†Œì…œë¡œê·¸ì¸(ë„¤ì´ë²„, ì¹´ì¹´ì˜¤, êµ¬ê¸€)ë„ ê°€ëŠ¥í•˜ê²Œ êµ¬í˜„
  - OAuth2Userinfo ì¸í„°í˜ì´ìŠ¤ë¥¼ ìƒì†ë°›ì•„ ë„¤ì´ë²„,ì¹´ì¹´ì˜¤,êµ¬ê¸€ ì†Œì…œ ë¡œê·¸ì¸ êµ¬í˜„
- íšŒì›ê°€ì… ì‹œ Password,Authentication,User ì—”í‹°í‹°ì—  pw,birth,username ë“±ì˜ ì •ë³´ë“¤ì„ ì €ì¥
- ë¡œê·¸ì¸ ì‹œ HTTPSecurityì˜ formLogin() ë©”ì„œë“œë¥¼ ì´ìš©í•´  .loginProcessingUrl("/login")  ë¡œ ë¡œê·¸ì¸ ì¸ì¦ í›„, ì¸ì¦ ì„±ê³µ ì‹œ .defaultSuccessUrl("/") ë¥¼ í†µí•´ ë©”ì¸ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰ì…˜í•˜ê²Œ êµ¬í˜„í•˜ê³  ì‹¤íŒ¨ ì‹œ .failureForwardUrl("/error")ë¥¼ í†µí•´ ì—ëŸ¬í˜ì´ì§€ë¡œ ì´ë™í•˜ê²Œ êµ¬í˜„
- ì†Œì…œë¡œê·¸ì¸ìœ¼ë¡œ ë¡œê·¸ì¸ ì‹œ .oauth2Login() ë©”ì„œë“œë¥¼ í†µí•´ ì¸ì¦ í›„ , ë¡œê·¸ì¸ ì„±ê³µì‹œ .userService(customOAuth2UserService) ë¥¼ í†µí•´ ìœ ì € ì •ë³´ë¡œ customOAuth2UserServiceì—ì„œ í›„ì²˜ë¦¬
- ë¡œê·¸ì•„ì›ƒ ì‹œ HTTPSecurityì˜ logout() ë©”ì„œë“œë¥¼ ì´ìš©í•´  .logoutUrl("/logout")ë¡œ ë¡œê·¸ì•„ì›ƒ ê²½ë¡œë¥¼ ì„¤ì •í•´ì£¼ê³  , ë¡œê·¸ì•„ì›ƒ ì„±ê³µ ì‹œ .logoutSuccessUrl("/")ë¥¼ í†µí•´ ë©”ì¸ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰ì…˜í•˜ê²Œ êµ¬í˜„ í›„, .deleteCookies("JSESSIONID") ë¡œ ì¿ í‚¤ë¥¼ ì‚­ì œí•´ì£¼ê³ , .invalidateHttpSession(true)ë¡œ ì„¸ì…˜ì„ ë¬´íš¨í™”


### í”„ë¡œí•„

- PrincipalDetailsê³¼ ì—°ê²°ë˜ì–´ ìˆëŠ” ìœ ì €ì˜ usernameì„ í†µí•´ ìœ ì € ì •ë³´ì™€ ìœ ì €ê°€ ì‘ì„±í•œ ê²Œì‹œê¸€ì„ í™”ë©´ì— ì¶œë ¥í•˜ë„ë¡ êµ¬í˜„
  - UserDetails ì¸í„°í˜ì´ìŠ¤ì™€ OAuth2User ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œ PrincipalDetails í´ë˜ìŠ¤ë¥¼ í†µí•´ ì†Œì…œë¡œê·¸ì¸ê³¼ ì¼ë°˜ ë¡œê·¸ì¸ ë˜ì–´ ìˆëŠ” ìœ ì € ì •ë³´ë¥¼ ê°€ì ¸ì˜´


### ê²Œì‹œê¸€ CRUD

- Spring @RestControllerë¥¼ ì´ìš©í•´ RESTful APIë¡œ ê²Œì‹œê¸€ crudë¥¼ êµ¬í˜„

![post](https://user-images.githubusercontent.com/59076085/227445915-6dc7d695-23eb-42ab-85c8-3da18112b1a4.gif)

- PrincipalDetails ë¥¼ í†µí•´ í˜„ì¬ ë¡œê·¸ì¸í•œ ìœ ì € ì •ë³´ë¥¼ ì–»ì–´ ë¡œê·¸ì¸ì„ í•œ ìœ ì €ë§Œ ê¸€ì„ ì‘ì„±í•  ìˆ˜ ìˆê²Œ êµ¬í˜„
- Ajaxë¥¼ ì´ìš©í•´ íŒŒì¼ê³¼ ë‹¤ë¥¸ ë°ì´í„°ë“¤(ì œëª©,ë‚´ìš©,í•´ì‹œíƒœê·¸)ê³¼ í•¨ê»˜ multipart/form-data í˜•ì‹ìœ¼ë¡œ formDataë¥¼ ì´ìš©í•´ JSON íŒŒë¼ë¯¸í„°ë¥¼ ë„˜ê²¨ ë°ì´í„°ë“¤ì„ DBì— ì €ì¥ (íŒŒì¼ì€ S3ì— ì—…ë¡œë“œëœ ì´ë¯¸ì§€ì˜ urlì„ ì €ì¥)
- MultipartFile ì¸í„°í˜ì´ìŠ¤ë¥¼ ì´ìš©í•´ íŒŒì¼ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¨ ë’¤ ,  AWS S3ë¥¼ ì´ìš©í•´ í•´ë‹¹ íŒŒì¼ì„ ì—…ë¡œë“œ í•˜ëŠ” ê³¼ì •ì—ì„œ Marvin ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í™œìš©í•´ ì´ë¯¸ì§€ ë¦¬ì‚¬ì´ì§•ì„ í•œ ë’¤ S3ì— ì—…ë¡œë“œí•˜ê²Œ êµ¬í˜„
- ê²Œì‹œê¸€ ì‘ì„± ì‹œ ì„ íƒí•œ íŒŒì¼ì´ ì—†ì„ ê²½ìš° ì—…ë¡œë“œ ëœ defalut ì´ë¯¸ì§€ë¥¼ AWS S3ì—ì„œ ê°€ì ¸ì˜¨ ë’¤ ê²Œì‹œê¸€ DBì— ì €ì¥í•´ êµ¬í˜„

- í•´ì‹œíƒœê·¸ëŠ” Tagify ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì´ìš©í–ˆê³ , í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ë¥¼ ì´ìš©í•˜ì—¬ ì •í•´ì§„ íƒœê·¸ë¥¼ ê²Œì‹œê¸€ì„ ì‘ì„± ì‹œì— ìµœëŒ€ 2ê°œê¹Œì§€ ì„ íƒí•˜ê²Œ êµ¬í˜„

&ensp;**ê¸€ ìˆ˜ì •**

![update](https://user-images.githubusercontent.com/59076085/227448390-f29d5b14-6477-4902-ade1-4aa3ffbbca22.gif)



- PrincipalDetails ë¥¼ í†µí•´ í˜„ì¬ ë¡œê·¸ì¸í•œ ìœ ì € ì •ë³´ë¥¼ ì–»ì–´ ìì‹ ì´ ì‘ì„±í•œ ê¸€ë§Œ ìˆ˜ì •í•  ìˆ˜ ìˆê²Œ êµ¬í˜„

  

&ensp;&ensp;**ê¸€ ì‚­ì œ**

- PrincipalDetails ë¥¼ í†µí•´ í˜„ì¬ ë¡œê·¸ì¸í•œ ìœ ì € ì •ë³´ë¥¼ ì–»ì–´ ìì‹ ì´ ì‘ì„±í•œ ê¸€ë§Œ ì‚­ì œí•  ìˆ˜ ìˆê²Œ êµ¬í˜„

### ì˜í™”/í•´ì‹œíƒœê·¸ ê²€ìƒ‰

ì˜í™”ì™€ í•´ì‹œíƒœê·¸ë¥¼ ê²€ìƒ‰í•  ìˆ˜ ìˆëŠ” ê²€ìƒ‰ë°”ë¥¼ êµ¬í˜„

- Naver open api ë¥¼ ì´ìš©í•´ í•´ë‹¹ ì˜í™”ì˜ ì´ë¯¸ì§€ì™€ ì´ë¦„ì˜ ë°ì´í„°ë¥¼ íŒŒì‹±í•´ êµ¬í˜„
- contains()ë¥¼ ì´ìš©í•´ "#"ì´ ì•ì— ë“¤ì–´ê°”ì„ë•ŒëŠ” í•´ì‹œíƒœê·¸ë¥¼ ê²€ìƒ‰í•˜ê²Œ í•œ ë’¤ JPAë¥¼ ì´ìš©í•´ ê²€ìƒ‰í•œ í•´ì‹œíƒœê·¸ê°€ íƒœê·¸ë˜ì–´ìˆëŠ” ì˜í™”ë¥¼ ë„ìš°ê²Œ êµ¬í˜„


### ì˜í™” ìƒì„¸ í˜ì´ì§€

- Naver open apiì™€ KOBIS open apië¥¼ ì´ìš©í•´ json ë°ì´í„°ë¥¼ íŒŒì‹±í•´ ì˜í™” ìƒì„¸ ë°ì´í„°(ê°œë´‰ì¼,ì¥ë¥´,ê°ë… ë“±)ì„ êµ¬í˜„.
- Naver datalab apië¥¼ ì´ìš©í•´ ì¼ì£¼ì¼ ê°„ í•´ë‹¹ ì˜í™” ê²€ìƒ‰ëŸ‰ì„ ë¶„ì„í•œ ê·¸ë˜í”„ë¡œ êµ¬í˜„
  - [ì˜í™” ê²€ìƒ‰ëŸ‰ ê·¸ë˜í”„ êµ¬í˜„](https://github.com/jeeyoun-kang/BEMO/blob/6e77b51efc5920c632cc30ea93a024282234143c/src/main/java/bemo/bemo/controller/MovieDetailController.java#L161)

- ê²Œì‹œê¸€ DBë¥¼ ì¡°íšŒí•´ í•´ë‹¹ ì˜í™”ì— ëŒ€í•œ ë¦¬ë·°ë¥¼ ì‘ì„±í•œ ë°ì´í„°ë“¤ì„ ë³´ì´ê²Œ êµ¬í˜„

### ì˜í™” ë©”ì¸ í˜ì´ì§€

![main](https://user-images.githubusercontent.com/59076085/227450896-62c42662-77aa-4952-9160-f94d8d5e55ae.gif)



- ì „ ë‚  ê¸°ì¤€, KOBIS Api + Naver search movie Api ë¥¼ ì´ìš©í•´ ì˜í™”ì˜ ì´ë¦„ì™€ ì´ë¯¸ì§€ë¥¼ ì¶”ì¶œí•´ ë°•ìŠ¤ì˜¤í”¼ìŠ¤ TOP8ì„ êµ¬í˜„
- ì—…ë°ì´íŠ¸ìˆœìœ¼ë¡œ ë¦¬ë·°ë°ì´í„°ë“¤ì„ êµ¬í˜„í•˜ê³  ì´ë¯¸ì§€ì™€ ì œëª©ì„ ëˆ„ë¥´ë©´ í•´ë‹¹ ìƒì„¸ ë¦¬ë·°ë°ì´í„°ë¥¼ ë³¼ ìˆ˜ ìˆê²Œ êµ¬í˜„
- ë¦¬ë·° ë°ì´í„°ë¥¼ í† ëŒ€ë¡œ ìˆœìœ„ë³„ í•´ì‹œíƒœê·¸ë¥¼ êµ¬í˜„í•˜ê³  í•´ë‹¹ í•´ì‹œíƒœê·¸ë¥¼ ëˆ„ë¥´ë©´ íƒœê·¸ë˜ì–´ ìˆëŠ” ì˜í™” ë°ì´í„°ë¥¼ ë„ìš°ê²Œ êµ¬í˜„

<h2>CI/CD</h2>

- master ë¸Œëœì¹˜ì— pushê°€ ë°œìƒí•˜ë©´ , Github actionsê°€ ì‹¤í–‰ë˜ê³  ìƒì„±í•œ workflow ì„¤ì • íŒŒì¼ì— ë”°ë¼ í”„ë¡œì íŠ¸ íŒŒì¼ì„ ì••ì¶•í•´ ë¹Œë“œ í›„ ë¹Œë“œ ê²°ê³¼ë¬¼ì„ S3ì— ì—…ë¡œë“œ
  - gradle.yml íŒŒì¼ì„ í†µí•´ ë¹Œë“œ í›„ zip íŒŒì¼ë¡œ ì••ì¶•, ë¹Œë“œê²°ê³¼ë¬¼ S3ì— ì—…ë¡œë“œí•´ ì‹¤í–‰í•˜ê³ , CodeDeployì™€ ì—°ê²°í•´ ìë™ë°°í¬ ì„¤ì •
- S3 ë²„í‚·ì— ìˆëŠ” íŒŒì¼ì„ ëŒ€ìƒìœ¼ë¡œ CodeDeployì—ê²Œ ë°°í¬ë¥¼ ìš”ì²­í•˜ê³   S3ë¡œë¶€í„° zipíŒŒì¼ì„ ë°›ì•„ ì••ì¶• í•´ì œ í›„ ì„¤ì • ìŠ¤í¬ë¦½íŠ¸ì— ë”°ë¼ EC2ì— ë°°í¬ë¥¼ ì§„í–‰
  - CodeDeployëŠ” appspec.ymlì™€ deploy.shì— ì˜í•´ Flowê°€ ì‘ë™í•´ ìŠ¤í¬ë¦½íŠ¸ë“¤(stop.sh,start.sh,health.sh)ì´ ì‹¤í–‰í•˜ê³ , ë°°í¬ë¥¼ ì§„í–‰

### ë¬´ì¤‘ë‹¨ ë°°í¬

Nginxë¥¼ ì´ìš©í•´ì„œ EC2 ë‚´ë¶€ì— í¬ë“œë¥¼ 2ê°œ(8081,8082)ë¡œ ë‚˜ëˆ ì„œ ë¬´ì¤‘ë‹¨ ë°°í¬ë¥¼ ì§„í–‰

- appsepec.ymlë¡œ ì¸í•´ ì„¤ì • ìŠ¤í¬ë¦½íŠ¸ê°€ ì‹¤í–‰ë˜ê³ , switch.shì— ì˜í•´ì„œ ë°°í¬ ì—…ë°ì´íŠ¸ ì‹œ Nginxê°€ Reload ë˜ê³  í¬ë“œê°€ ë°”ë€Œê²Œ ì„¤ì •


### ë„ë©”ì¸ ì ìš©

ê°€ë¹„ì•„ì—ì„œ êµ¬ë§¤í•œ ë„ë©”ì¸ê³¼ aws Route53ì„ ì´ìš©í•´ ë„ë©”ì¸ ì—°ê²°



## Trouble Shooting

- ê²Œì‹œê¸€ì„ ì—…ë¡œë“œí•  ë•Œ Fileí˜•ì‹ê³¼ text ë°ì´í„°ë“¤ì˜ í˜•ì‹ì´ ë‹¤ë¥´ê¸°ì— í•¨ê»˜ JSONí˜•ì‹ìœ¼ë¡œ ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ ì „ì†¡ë˜ì§€ ì•ŠëŠ” ì˜¤ë¥˜ê°€ ë°œìƒ

  - Blobì„ ì‚¬ìš©í•´ Fileì€ multipart/form-data, ê·¸ ì™¸ ë°ì´í„°ëŠ” application/json í˜•ì‹ìœ¼ë¡œ ë³´ë‚´ ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ @RequestPartë¡œ ë¶„ë¥˜í•œ ë°ì´í„°ë¥¼ ë°›ì•„ ë¬¸ì œë¥¼ í•´ê²°

- ê²Œì‹œê¸€ì˜ íŒŒì¼ì„ ì—…ë¡œë“œí•˜ëŠ” ê³¼ì •ì—ì„œ ì›ë³¸ ì´ë¯¸ì§€ë¥¼ AWS S3ì— ê·¸ëŒ€ë¡œ ì—…ë¡œë“œ í•  ê²½ìš° ì´ë¯¸ì§€ í˜¸ì¶œ ì‹œ í™”ë©´ì— ë³´ì—¬ì§€ëŠ” ì´ë¯¸ì§€ í¬ê¸° ëŒ€ë¹„ í° ì´ë¯¸ì§€ë¥¼ í˜¸ì¶œí•´ íŠ¸ë˜í”½ì´ ë°œìƒ

  - Marvin ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì´ìš©í•´ ì´ë¯¸ì§€ë¥¼ ë¦¬ì‚¬ì´ì§•í•œ ë’¤ S3ì— ì—…ë¡œë“œí•˜ëŠ” í˜•ì‹ìœ¼ë¡œ í•´ê²°

  ```java
  MultipartFile resizeImage(String fileName, String fileFormatName, MultipartFile originalImage, int targetWidth) {
          try {
              // MultipartFile -> BufferedImage Convert
              BufferedImage image = ImageIO.read(originalImage.getInputStream());
              // newWidth : newHeight = originWidth : originHeight
              int originWidth = image.getWidth();
              int originHeight = image.getHeight();
  
              // origin ì´ë¯¸ì§€ê°€ resizingë  ì‚¬ì´ì¦ˆë³´ë‹¤ ì‘ì„ ê²½ìš° resizing ì‘ì—… ì•ˆ í•¨
              if(originWidth < targetWidth)
                  return originalImage;
  
              MarvinImage imageMarvin = new MarvinImage(image);
  
              Scale scale = new Scale();
              scale.load();
              scale.setAttribute("newWidth", targetWidth);
              scale.setAttribute("newHeight", targetWidth * originHeight / originWidth);
              scale.process(imageMarvin.clone(), imageMarvin, null, null, false);
  
              BufferedImage imageNoAlpha = imageMarvin.getBufferedImageNoAlpha();
              ByteArrayOutputStream baos = new ByteArrayOutputStream();
              ImageIO.write(imageNoAlpha, fileFormatName, baos);
              baos.flush();
  
              return new MockMultipartFile(fileName, baos.toByteArray());
  
          } catch (IOException e) {
              throw new ResponseStatusException(HttpStatus.INTERNAL_SERVER_ERROR, "íŒŒì¼ ë¦¬ì‚¬ì´ì¦ˆì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.");
          }
      }
  ```

  

- í•´ì‹œíƒœê·¸ë¥¼ ê²€ìƒ‰í•  ë•Œ í•´ë‹¹ í•´ì‹œíƒœê·¸ê°€ íƒœê·¸ëœ ì˜í™”ë¥¼ ë„ìš°ê²Œ êµ¬í˜„í–ˆì§€ë§Œ ì˜í™”ì— ëŒ€í•œ ì¤‘ë³µì²˜ë¦¬ë¥¼ í•˜ì§€ë§ì•„ ì¤‘ë³µëœ ì˜í™”ê°€ í™”ë©´ì— ë„ì›Œì§€ëŠ” ë¬¸ì œê°€ ë°œìƒ

  - JPAì˜ JPQLë¥¼ ì´ìš©í•´ â€œDISTINCTâ€ë¡œ ê°™ì€ ì˜í™”ì— ëŒ€í•´ ì¤‘ë³µë˜ì§€ ì•Šê²Œ í•´ê²°

  ```java
  @Query("select DISTINCT h.mvtitle from Hashtags h where h.content like %:content%")
      List<String> findMvtitleByContentContaining(String content);
  ```

- WebSecurity êµ¬í˜„ ì¤‘ Spring Security 5.7.x ë¶€í„° WebSecurityConfigurerAdapterê°€ Deprecatedë˜ì–´ ì‚¬ìš©í•˜ì§€ ëª»í•˜ëŠ” ë¬¸ì œê°€ ë°œìƒ

  - SecurityFilterChainê³¼ WebSecurityCustomizer ë¥¼ ë¹ˆìœ¼ë¡œ ë“±ë¡í•´ ìƒí™©ì— ë”°ë¼ ì‚¬ìš©ë˜ê²Œ êµ¬í˜„

- DBë¥¼ ì„¤ê³„í•˜ëŠ” ê³¼ì •ì—ì„œ ì—¬ëŸ¬ ê°œë¡œ ë¶„ì‚°ëœ ë°ì´í„°ë² ì´ìŠ¤ì— ì›í•˜ëŠ” ë°ì´í„°ë¥¼ ì €ì¥ ë° ì¶”ì¶œí•˜ëŠ” ê³¼ì •ì—ì„œ ë¬¸ì œê°€ ë°œìƒ

  -  [íšŒì› ê°€ì… ë° ë¡œê·¸ì¸ì„ ìœ„í•œ í…Œì´ë¸” ì„¤ê³„](https://rastalion.me/%ED%9A%8C%EC%9B%90-%EA%B0%80%EC%9E%85-%EB%B0%8F-%EB%A1%9C%EA%B7%B8%EC%9D%B8%EC%9D%84-%EC%9C%84%ED%95%9C-%ED%85%8C%EC%9D%B4%EB%B8%94-%EC%84%A4%EA%B3%84/)ë¥¼ í†µí•´ ì •ê·œí™”ëœ DBë¥¼ êµ¬ì¶•í•´ ë¬¸ì œë¥¼ í•´ê²°
  -  í…Œì´ë¸”ë‹¹ Repositoryë¥¼ ê°ê° ë§Œë“¤ì–´ì¤€ í›„ì— Dtoë¥¼ í†µí•´ ì…ë ¥ëœ ìœ ì € ë°ì´í„°ë¥¼ Serviceì— ë„˜ê²¨ì£¼ê³ , Serviceì—ì„œ Dtoì— ë‹´ê¸´ ë°ì´í„°ë¥¼ í† ëŒ€ë¡œ new Entityí•˜ì—¬ Repositoryì— saveí•˜ë„ë¡ êµ¬í˜„

---

### UI reference license

Copyright (c) 2023 by John Fink (https://codepen.io/johnfinkdesign/pen/XjZBPE)

Copyright (c) 2023 by Bradley Engelhardt (https://codepen.io/SquishyAndroid/pen/XjRPVV)

Copyright (c) 2023 by Ian Lunn (https://codepen.io/IanLunn/pen/AxBReL)

Copyright (c) 2023 by Peter Wiebe (https://codepen.io/pjwiebe/pen/VmmxpM)

Copyright (c) 2023 by Austin (https://codepen.io/AustinAuth/pen/xxmbZX)
